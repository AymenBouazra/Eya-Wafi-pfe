<app-header-body title="Modifier un talent"></app-header-body>


<div class="container-fluid mt--7">
  <div class="row">
    <div class="col">
      <div class="card shadow">
        <div class="card-header border-0">
          <h3 class="mb-0">Modifier une compétence</h3>
        </div>
        <form *ngIf="skillForm" [formGroup]="skillForm" (ngSubmit)="onSubmit()" class="card-body">
          <div class="form-group">
            <label for="title">Titre</label>
            <input type="text" id="title" formControlName="title"
              [ngClass]="{ 'is-invalid': submitted && f.title.errors }" class="form-control"
              placeholder="Titre de la compétence">
            <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
              <small *ngIf="f.title.errors.required">Le titre est requis.</small>
            </div>
          </div>


          <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" formControlName="description"
              [ngClass]="{ 'is-invalid': submitted && f.description.errors }" class="form-control"
              placeholder="Description de la compétence"></textarea>
            <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
              <small *ngIf="f.description.errors.required">La description est requise.</small>
            </div>
            <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
              <small *ngIf="f.description.errors.minlength">La description doit contenir au moins 10 caractères.</small>
            </div>
            <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
              <small *ngIf="f.description.errors.maxlength">La description ne doit pas dépasser 300 caractères.</small>
            </div>
          </div>

          <button type="submit" [disabled]="isLoading" class="btn btn-primary">{{isLoading ? 'Enregistrement...' :
            'Enregistrer'}}</button>
          <button type="button" class="btn btn-secondary" routerLink="/skills">Annuler</button>
        </form>

      </div>
    </div>
  </div>
</div>